\ProvidesPackage{preamble}

% Корректность отображения всех шрифтов, кодировок и мат. символов
\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[russian]{babel}
\usepackage{amssymb, amsmath, amsthm, mathtools}

\usepackage{lipsum}

% Отображение содержания
\usepackage{tocloft}
\addto\captionsrussian{\renewcommand*\contentsname{Экзаменационные вопросы}}
\renewcommand\cftsecfont{\mdseries}
\renewcommand\cftsecpagefont{\mdseries}

% Настройки шрифта
\usepackage{fontspec}
\setmainfont{CMU Serif}

% Отступ у первого абзаца
\usepackage{indentfirst}

% Вставка картинок
\usepackage{graphicx}
\graphicspath{img/}

% Asymptote для иллюстраций
\usepackage{asymptote}

% Римские числа из обычных
\newcommand{\rnum}[1]{\uppercase\expandafter{\romannumeral #1\relax}}

% Часто используемые обозначения
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\renewcommand{\C}{\mathbb{C}}
\newcommand{\F}{\mathbb{F}\,}
\newcommand{\rk}{\operatorname{rk}}
\newcommand{\tr}{\operatorname{tr}}
\newcommand{\sgn}{\operatorname{sgn}}
\renewcommand{\mod}{\mathrm{mod}\,}
\renewcommand{\Re}{\mathrm{Re}\,}
\renewcommand{\Im}{\mathrm{Im}\,}
\newcommand{\ord}{\mathrm{ord}\,}
\renewcommand{\gcd}{\mathrm{НОД}\,}
\newcommand{\lcm}{\mathrm{НОК}\,}
\newcommand*{\bord}{\multicolumn{1}{c|}{}}
\newcommand{\bigzero}{\makebox(0, 0){\Huge 0}}
\newcommand{\bigast}{\makebox(0, 0){\Huge \ast}}

% Отступы между абзацами
\setlength{\parskip}{1ex}

% Отступы
\usepackage[left=18mm, right=18mm, top=20mm, bottom=16mm, includefoot]{geometry}

% Объединения строк и столбцов в таблицах
\usepackage{multirow}

% Для работы со списками
\usepackage{enumitem}

% Оболочка для теоремы
\newcounter{theorem}[section]
\newenvironment{theorem}[1][]{\par\smallskip
\refstepcounter{theorem}
    \ifx&#1&
        \smallskip\noindent{\bfseries Теорема \thesection.\thetheorem.}
    \else
        \smallskip\noindent{\bfseries Теорема \thesection.\thetheorem\;{\mdseries(#1)}.}
    \fi
    }{
    \par\smallskip
}

% Оболочка для доказательства
\renewenvironment{proof}{\smallskip
    %\setlength{\parindent}{17pt}
    %\setlength{\parskip}{1ex}
    \noindent{\bfseries Доказательство.}
}{
    \hfill$\blacksquare$\par\smallskip
}

% Оболочки для леммы, предложения и утверждения
\newcounter{lemma}[section]
\newenvironment{lemma}[1][]{\par\smallskip
\refstepcounter{lemma}
    \ifx&#1&
        \smallskip\noindent{\bfseries Лемма \thesection.\thelemma.}
    \else
        \smallskip\noindent{\bfseries Лемма \thesection.\thelemma\;{\mdseries(#1)}.}
    \fi
    }{
    \par\smallskip
}

\newenvironment{proposal}[1][]{\par\smallskip
    \ifx&#1&
        \smallskip\noindent{\bfseries Предложение.}
    \else
        \smallskip\noindent{\bfseries Предложение \;(#1).}
    \fi
    }{
    \par\smallskip
}

\newenvironment{statement}[1][]{\par\smallskip
    \ifx&#1&
        \smallskip\noindent{\bfseries Утверждение.}
    \else
        \smallskip\noindent{\bfseries Утверждение \;{\mdseries(#1)}.}
    \fi
    }{
    \par\smallskip
}

% Оболочка для определения
\newcounter{definition}[section]
\newenvironment{definition}[1][]{\par\smallskip
\refstepcounter{definition}
    \ifx&#1&
        \smallskip\noindent{\bfseries Определение \thesection.\thedefinition.}
    \else
        \smallskip\noindent{\bfseries Определение \thesection.\thedefinition\;{\mdseries(#1)}.}
    \fi
    }{
    \par\smallskip
}

% Оболочки для задач
\newenvironment{remark}[1][]{\par\smallskip
    \ifx&#1&
        \smallskip\noindent{\bfseries Примечание.}
    \else
        \smallskip\noindent{\bfseries Примечание\;(#1).}
    \fi
    }{
    \par\smallskip
}

\newcounter{problem}
\newenvironment{problem}[1][]{\par\smallskip
\refstepcounter{problem}
    \ifx&#1&
        \noindent{\bfseries Задача \theproblem.}
    \else
        \noindent{\bfseries Задача \theproblem\;{\mdseries(#1)}.}
    \fi
    }{
\par\smallskip
}




